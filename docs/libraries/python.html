<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><title>InfluxDB Documentation</title><link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" /><script src="/javascripts/all.js" type="text/javascript"></script></head><body class="docs docs_libraries docs_libraries_python"><section class="nav"><div class="row"><nav class="top-bar hide-for-small"><ul class="title-area"><li class="name"><a href="/"><img src="/images/influxdb-light-24px.png" /></a></li></ul><li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li><section class="top-bar-section"><ul class="right"><li class="divider"></li><li><a href="/overview">Overview</a></li><li class="divider"></li><li><a href="/hosting">Hosting</a></li><li class="divider"></li><li><a href="/blog">Blog</a></li><li class="divider"></li><li><a href="/docs">Docs</a></li><li class="divider"></li><li><a href="/community">Community</a></li><li class="divider"></li><li><a target="_" href="http://play.influxdb.org">Play</a></li><li class="divider"></li><li class="has-form"><a class="button" href="/download">Download</a></li></ul></section></nav></div></section><section role="main"><div class="row"><div class="large-4 medium-4 columns"><div class="sidebar"><nav><ul class="side-nav"><li class="heading">Getting Started</li><li><a href="/docs">Introduction</a></li><li class="divider"></li><li class="heading">API</li><li><a href="/docs/api/http.html">HTTP API</a></li><li><a href="/docs/api/protobuf.html">Protobuf API</a></li><li class="divider"></li><li class="heading">Query Language</li><li><a href="/docs/query_language/">Overview</a></li><li><a href="/docs/query_language/functions.html">Functions</a></li><li><a href="/docs/query_language/continuous_queries.html">Continuous Queries</a></li><li class="divider"></li><li class="heading">User Interfaces</li><li><a href="/docs/interfaces/">Overview</a></li><li><a href="/docs/interfaces/custom.html">Custom Interfaces</a></li><li class="divider"></li><li class="heading">Libraries</li><li><a href="/docs/libraries/javascript.html">JavaScript</a></li><li><a href="/docs/libraries/ruby.html">Ruby</a></li><li><a href="/docs/libraries/python.html">Python</a></li><li><a href="/docs/libraries/node.html">Node.js</a></li><li><a href="/docs/libraries/php.html">PHP</a></li><li><a href="https://github.com/olauzon/capacitor">Clojure</a></li><li><a href="https://github.com/novaquark/metrics-influxdb">Java Metrics</a></li><li><a href="https://github.com/influxdb/influxdb-go">Go</a></li><li><a href="https://github.com/rcrowley/go-metrics">Go Metrics</a></li><li><a href="https://github.com/influxdb/influxdb-scala">Scala</a></li><li><a href="https://github.com/influxdb/influxdb-r">R</a></li><li class="divider"></li><li class="heading">Operations</li><li><a href="/hosting">Hosting</a></li><li><a href="/docs/configuration.html">Configuration</a></li><li><a href="/docs/deployment.html">Deployment</a></li><li class="divider"></li><li class="heading">Contributing</li><li><a href="https://github.com/influxdb/influxdb.org">Documentation</a></li><li><a href="https://github.com/influxdb/influxdb/blob/master/LICENSE">License (MIT)</a></li><li><a href="/docs/getting_started/building.html">Building From Source</a></li><li class="divider"></li><li class="heading">Other</li><li><a href="https://github.com/FGRibreau/influxdb-cli">CLI (Node)</a></li><li><a href="https://github.com/phstc/influxdb-cli">CLI (Ruby)</a></li><li><a href="/docs/visualizations.html">Visualizations & Dashboards</a></li><li><a href="https://github.com/bernd/statsd-influxdb-backend">StatsD Backend</a></li><li><a href="https://github.com/bpaquet/collectd-influxdb-proxy">CollectD Proxy</a></li><li><a href="https://github.com/fangli/fluent-plugin-influxdb">FluentD Plugin</a></li><li><a href="https://github.com/lusis/sensu_influxdb_handler">Sensu Handler</a></li><li><a href="https://github.com/SimpleFinance/chef-handler-influxdb">Chef Handler/Reporter</a></li><li><a href="https://github.com/CargoSense/puppet-influxdb">Config Management via Boxen</a></li></ul></nav><a class="button download expand" href="/download" style="margin-bottom: 0;">Download InfluxDB</a></div></div><div class="large-8 medium-8 columns"><h1>Python</h1>

<p>The <a href="https://github.com/influxdb/influxdb-python">InfluxDB Python library lives on GitHub</a> thanks to <a href="https://github.com/smly">smly</a>.</p>

<h2>Get and Install</h2>

<h3>Using pip</h3>
<pre class="highlight text">pip install influxdb
</pre>
<h3>Manual Installation</h3>
<pre class="highlight text">git clone https://github.com/influxdb/influxdb-python.git
cd influxdb-python
pip install -r requirements.txt
python setup.py install
</pre>
<h3>Initialization</h3>

<p>First, create a new InfluxDB object by connecting to a running instance.</p>
<pre class="highlight text">from influxdb import client as influxdb
db = influxdb.InfluxDBClient(host, port, username, password, database)
</pre>
<h3>Available Functions</h3>

<h4>create_database(<em>database</em>)</h4>

<p>Create database. Requires cluster-admin privileges.</p>

<h4>delete_database(<em>database</em>)</h4>

<p>Delete database. Requires cluster-admin privileges.</p>

<h4>switch_db(<em>databaseName</em>)</h4>

<p>Switch to another database.</p>

<h4>switch_user(<em>username</em>, <em>password</em>)</h4>

<p>Change your user-context.</p>

<h4>write_points(<em>data</em>)</h4>

<p>Write to multiple time series names.</p>

<p>Example:</p>
<pre class="highlight text">data = [
  {&quot;points&quot;:[[1.1,4.3,2.1],[1.2,2.0,2.0]],
   &quot;name&quot;:&quot;web_devweb01_load&quot;,
   &quot;columns&quot;:[&quot;min1&quot;, &quot;min5&quot;, &quot;min15&quot;]
  }
]
db.write_points(data)
</pre>
<h4>write_points_with_precision(<em>data</em>, <em>time-precision</em>=&rsquo;s&#39;)</h4>

<p>Write to multiple time series names with defined precision.</p>

<h4>query(<em>query</em>, <em>time-precision</em>=&rsquo;s&#39;, <em>chunked</em>=False)</h4>

<p>Query for data</p>

<p>Example:</p>
<pre class="highlight text">result = db.query(&#39;select min5 from web_devweb01_load;&#39;)
</pre>
<p>This will print the following (timestamps will be obviously different):</p>
<pre class="highlight text">[
 {u&#39;points&#39;: [[1386001532, 6, 2], [1386001532, 5, 4.3]],
  u&#39;name&#39;: u&#39;web_devweb01_load&#39;,
  u&#39;columns&#39;: [u&#39;time&#39;, u&#39;sequence_number&#39;, u&#39;min5&#39;]
 }
]
</pre></div></div></section><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-45024174-1', 'influxdb.org');
ga('send', 'pageview');</script></body></html>